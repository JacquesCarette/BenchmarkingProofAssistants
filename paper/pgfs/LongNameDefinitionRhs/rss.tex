\begin{tikzpicture}
\begin{axis}
[title=LongNameDefinitionRhs,
xlabel={Size},
ylabel={Max RSS (megabytes)},
legend to name=legend,
legend columns=2,
xmode=log,
log basis x={2},
ymode=log,
log basis y={2},
yticklabel={
  \pgfkeys{/pgf/fpu=true}
  \pgfmathparse{pow(2,\tick)}
  \pgfmathprintnumber[fixed relative,precision=3]{\pgfmathresult}
  \pgfkeys{/pgf/fpu=false}
}]
\addplot [
color=blue,
mark=o,
only marks,
forget plot
] coordinates {

};
\addplot [
color=orange,
mark=square,
only marks,
forget plot
] coordinates {

};
\addplot [
color=red,
mark=diamond,
only marks,
forget plot
] coordinates {

};
\addplot [
color=teal,
mark=triangle,
only marks,
forget plot
] coordinates {

};
\addplot [
color=blue,
mark=*
] coordinates {
(4194305.0,3587.022848) 
(2097153.0,1830.187008) 
(1048577.0,1006.247936) 
(524289.0,553.623552) 
(262145.0,260.9152) 
(131073.0,179.859456) 
(65537.0,124.669952) 
(32769.0,90.267648) 
(16385.0,75.456512) 
(8193.0,70.705152) 
(4097.0,67.268608) 
(2049.0,65.839104) 
(1025.0,65.18784) 
(513.0,65.241088) 
(257.0,65.466368) 
(129.0,65.835008) 
(65.0,65.224704) 
(33.0,65.585152) 
(17.0,65.3312) 
(9.0,65.060864) 
(5.0,65.171456) 
(3.0,65.37216) 
(2.0,64.610304) 
};
\addlegendentry{Agda}
\addplot [
color=orange,
mark=square*
] coordinates {
(4194305.0,1421.893632) 
(2097153.0,776.216576) 
(1048577.0,499.081216) 
(524289.0,361.095168) 
(262145.0,265.412608) 
(131073.0,248.827904) 
(65537.0,248.741888) 
(32769.0,248.516608) 
(16385.0,248.87296) 
(8193.0,248.741888) 
(4097.0,248.684544) 
(2049.0,248.946688) 
(1025.0,248.75008) 
(513.0,248.909824) 
(257.0,248.705024) 
(129.0,248.762368) 
(65.0,248.89344) 
(33.0,248.864768) 
(17.0,248.85248) 
(9.0,248.7296) 
(5.0,248.815616) 
(3.0,248.897536) 
(2.0,248.885248) 
};
\addlegendentry{Idris 2}
\addplot [
color=red,
mark=diamond*
] coordinates {
(4194305.0,343.527424) 
(2097153.0,333.18912) 
(1048577.0,326.81984) 
(524289.0,325.779456) 
(262145.0,317.91104) 
(131073.0,318.713856) 
(65537.0,315.949056) 
(32769.0,315.580416) 
(16385.0,317.743104) 
(8193.0,317.878272) 
(4097.0,317.7472) 
(2049.0,317.710336) 
(1025.0,317.599744) 
(513.0,317.669376) 
(257.0,317.702144) 
(129.0,317.657088) 
(65.0,315.629568) 
(33.0,317.743104) 
(17.0,317.68576) 
(9.0,317.734912) 
(5.0,317.68576) 
(3.0,317.845504) 
(2.0,317.452288) 
};
\addlegendentry{Lean 4}
\addplot [
color=teal,
mark=triangle*
] coordinates {
(4194305.0,401.477632) 
(2097153.0,379.506688) 
(1048577.0,367.357952) 
(524289.0,352.894976) 
(262145.0,229.289984) 
(131073.0,162.709504) 
(65537.0,129.67936) 
(32769.0,113.17248) 
(16385.0,104.648704) 
(8193.0,100.589568) 
(4097.0,98.353152) 
(2049.0,97.366016) 
(1025.0,96.718848) 
(513.0,96.432128) 
(257.0,96.41984) 
(129.0,96.432128) 
(65.0,96.3584) 
(33.0,96.313344) 
(17.0,96.37888) 
(9.0,96.124928) 
(5.0,96.251904) 
(3.0,96.186368) 
(2.0,96.178176) 
};
\addlegendentry{Rocq}
\end{axis}
\node[anchor=north] at (current axis.below south) {\ref{legend}};
\end{tikzpicture}
