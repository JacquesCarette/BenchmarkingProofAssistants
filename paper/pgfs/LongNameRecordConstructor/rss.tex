\begin{tikzpicture}
\begin{axis}
[title=LongNameRecordConstructor,
xlabel={Size},
ylabel={Max RSS (megabytes)},
legend to name=legend,
legend columns=2,
xmode=log,
log basis x={2},
ymode=log,
log basis y={2},
yticklabel={
  \pgfkeys{/pgf/fpu=true}
  \pgfmathparse{pow(2,\tick)}
  \pgfmathprintnumber[fixed relative,precision=3]{\pgfmathresult}
  \pgfkeys{/pgf/fpu=false}
}]
\addplot [
color=blue,
mark=o,
only marks,
forget plot
] coordinates {

};
\addplot [
color=orange,
mark=square,
only marks,
forget plot
] coordinates {

};
\addplot [
color=red,
mark=diamond,
only marks,
forget plot
] coordinates {

};
\addplot [
color=teal,
mark=triangle,
only marks,
forget plot
] coordinates {

};
\addplot [
color=blue,
mark=*
] coordinates {
(4194305.0,1787.682816) 
(2097153.0,825.868288) 
(1048577.0,479.985664) 
(524289.0,222.625792) 
(262145.0,130.932736) 
(131073.0,103.30112) 
(65537.0,81.780736) 
(32769.0,73.5232) 
(16385.0,69.562368) 
(8193.0,66.281472) 
(4097.0,65.80224) 
(2049.0,65.531904) 
(1025.0,64.999424) 
(513.0,65.57696) 
(257.0,65.59744) 
(129.0,65.318912) 
(65.0,65.216512) 
(33.0,65.069056) 
(17.0,65.204224) 
(9.0,65.097728) 
(5.0,65.204224) 
(3.0,65.212416) 
(2.0,64.978944) 
};
\addlegendentry{Agda}
\addplot [
color=orange,
mark=square*
] coordinates {
(4194305.0,1166.52032) 
(2097153.0,748.597248) 
(1048577.0,402.300928) 
(524289.0,348.18048) 
(262145.0,260.87424) 
(131073.0,248.68864) 
(65537.0,248.85248) 
(32769.0,248.885248) 
(16385.0,248.87296) 
(8193.0,248.733696) 
(4097.0,248.918016) 
(2049.0,248.631296) 
(1025.0,248.963072) 
(513.0,248.803328) 
(257.0,248.87296) 
(129.0,248.897536) 
(65.0,248.864768) 
(33.0,248.856576) 
(17.0,248.958976) 
(9.0,248.81152) 
(5.0,248.930304) 
(3.0,248.610816) 
(2.0,248.602624) 
};
\addlegendentry{Idris 2}
\addplot [
color=red,
mark=diamond*
] coordinates {
(4194305.0,339.18976) 
(2097153.0,332.767232) 
(1048577.0,331.825152) 
(524289.0,323.936256) 
(262145.0,324.698112) 
(131073.0,321.900544) 
(65537.0,319.295488) 
(32769.0,319.320064) 
(16385.0,321.527808) 
(8193.0,321.445888) 
(4097.0,321.4336) 
(2049.0,321.449984) 
(1025.0,321.478656) 
(513.0,321.478656) 
(257.0,321.396736) 
(129.0,319.131648) 
(65.0,319.3856) 
(33.0,321.47456) 
(17.0,321.564672) 
(9.0,319.197184) 
(5.0,321.499136) 
(3.0,319.352832) 
(2.0,321.507328) 
};
\addlegendentry{Lean 4}
\addplot [
color=teal,
mark=triangle*
] coordinates {
(4194305.0,376.102912) 
(2097153.0,364.965888) 
(1048577.0,352.251904) 
(524289.0,228.634624) 
(262145.0,162.38592) 
(131073.0,129.4336) 
(65537.0,112.963584) 
(32769.0,104.554496) 
(16385.0,100.225024) 
(8193.0,98.107392) 
(4097.0,97.103872) 
(2049.0,96.559104) 
(1025.0,96.31744) 
(513.0,96.202752) 
(257.0,96.137216) 
(129.0,96.137216) 
(65.0,96.006144) 
(33.0,96.067584) 
(17.0,96.063488) 
(9.0,95.86688) 
(5.0,96.03072) 
(3.0,95.98976) 
(2.0,96.063488) 
};
\addlegendentry{Rocq}
\end{axis}
\node[anchor=north] at (current axis.below south) {\ref{legend}};
\end{tikzpicture}
